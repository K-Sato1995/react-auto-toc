{"version":3,"file":"index.js","sources":["../src/index.js"],"sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\n\nexport default class Toc extends React.Component {\n  static propTypes = {\n    markdownText: PropTypes.string\n  }\n  stringReplacer(string, regex, mark) {\n    return string.replace(regex, mark)\n  }\n  createLink(string) {\n    var shapedString = string\n      .toLowerCase()\n      .replace(/#+\\s/, '#')\n      .trimRight()\n    var strArr = shapedString.split(' ')\n    var anchor = strArr.join('-')\n    return this.stringReplacer(anchor, /[?!]/g, '-')\n  }\n\n  returnTitle(string) {\n    const link = this.createLink(string)\n    return <a href={`${link}`}>{`${this.stringReplacer(string, /#+/g, '')}`}</a>\n  }\n\n  createAnchorLink(string) {\n    if (/^#{1}\\s[\\s\\S]/.test(string)) {\n      return <li className='header1'>{this.returnTitle(string)}</li>\n    } else if (/^#{2}\\s[\\s\\S]/.test(string)) {\n      return <li className='header2'>{this.returnTitle(string)}</li>\n    } else if (/^#{3}\\s[\\s\\S]/.test(string)) {\n      return <li className='header3'>{this.returnTitle(string)}</li>\n    } else {\n      return ''\n    }\n  }\n\n  render() {\n    const regex = /#+\\s[\\u30a0-\\u30ff\\u3040-\\u309f\\u3005-\\u3006\\u30e0-\\u9fcf\\w\\s!?()]+\\n/g\n    const codeRegex = /```*([\\s\\S]+?)```/g\n    console.log(this.props.markdownText)\n    const content = this.stringReplacer(this.props.markdownText, codeRegex, ' ')\n    let headers\n    if (typeof content === 'string') {\n      headers = content.match(regex)\n    }\n    const toc = headers.map(header => <li>{this.createAnchorLink(header)}</li>)\n    return (\n      <div className='toc'>\n        <ul className='toc-list'>{toc}</ul>\n      </div>\n    )\n  }\n}\n"],"names":["Toc","string","regex","mark","replace","shapedString","toLowerCase","trimRight","strArr","split","anchor","join","stringReplacer","link","createLink","test","returnTitle","codeRegex","log","props","markdownText","content","headers","match","toc","map","createAnchorLink","header","React","Component","propTypes","PropTypes"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAGqBA;;;;;;;;;;mCAIJC,QAAQC,OAAOC,MAAM;aAC3BF,OAAOG,OAAP,CAAeF,KAAf,EAAsBC,IAAtB,CAAP;;;;+BAESF,QAAQ;UACbI,eAAeJ,OAChBK,WADgB,GAEhBF,OAFgB,CAER,MAFQ,EAEA,GAFA,EAGhBG,SAHgB,EAAnB;UAIIC,SAASH,aAAaI,KAAb,CAAmB,GAAnB,CAAb;UACIC,SAASF,OAAOG,IAAP,CAAY,GAAZ,CAAb;aACO,KAAKC,cAAL,CAAoBF,MAApB,EAA4B,OAA5B,EAAqC,GAArC,CAAP;;;;gCAGUT,QAAQ;UACZY,OAAO,KAAKC,UAAL,CAAgBb,MAAhB,CAAb;aACO;;UAAG,WAASY,IAAZ;aAAwB,KAAKD,cAAL,CAAoBX,MAApB,EAA4B,KAA5B,EAAmC,EAAnC;OAA/B;;;;qCAGeA,QAAQ;UACnB,gBAAgBc,IAAhB,CAAqBd,MAArB,CAAJ,EAAkC;eACzB;;YAAI,WAAU,SAAd;eAA8Be,WAAL,CAAiBf,MAAjB;SAAhC;OADF,MAEO,IAAI,gBAAgBc,IAAhB,CAAqBd,MAArB,CAAJ,EAAkC;eAChC;;YAAI,WAAU,SAAd;eAA8Be,WAAL,CAAiBf,MAAjB;SAAhC;OADK,MAEA,IAAI,gBAAgBc,IAAhB,CAAqBd,MAArB,CAAJ,EAAkC;eAChC;;YAAI,WAAU,SAAd;eAA8Be,WAAL,CAAiBf,MAAjB;SAAhC;OADK,MAEA;eACE,EAAP;;;;;6BAIK;;;UACDC,QAAQ,wEAAd;UACMe,YAAY,oBAAlB;cACQC,GAAR,CAAY,KAAKC,KAAL,CAAWC,YAAvB;UACMC,UAAU,KAAKT,cAAL,CAAoB,KAAKO,KAAL,CAAWC,YAA/B,EAA6CH,SAA7C,EAAwD,GAAxD,CAAhB;UACIK,gBAAJ;UACI,OAAOD,OAAP,KAAmB,QAAvB,EAAiC;kBACrBA,QAAQE,KAAR,CAAcrB,KAAd,CAAV;;UAEIsB,MAAMF,QAAQG,GAAR,CAAY;eAAU;;;iBAAUC,gBAAL,CAAsBC,MAAtB;SAAf;OAAZ,CAAZ;aAEE;;UAAK,WAAU,KAAf;;;YACM,WAAU,UAAd;;;OAFJ;;;;EA5C6BC,MAAMC;;AAAlB7B,IACZ8B,YAAY;gBACHC,UAAU9B;;;;;"}